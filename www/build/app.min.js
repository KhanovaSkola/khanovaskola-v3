+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),n=a.data("bs.alert");n||a.data("bs.alert",n=new r(this)),"string"==typeof e&&n[e].call(a)})}var a='[data-dismiss="alert"]',r=function(e){t(e).on("click",a,this.close)};r.VERSION="3.3.0",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function a(){o.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=t(s);e&&e.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",a).emulateTransitionEnd(r.TRANSITION_DURATION):a())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=r,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",a,r.prototype.close)}(jQuery);
+function(t){"use strict";function a(a){return this.each(function(){var n=t(this),i=n.data("bs.tab");i||n.data("bs.tab",i=new e(this)),"string"==typeof a&&i[a]()})}var e=function(a){this.element=t(a)};e.VERSION="3.3.0",e.TRANSITION_DURATION=150,e.prototype.show=function(){var a=this.element,e=a.closest("ul:not(.dropdown-menu)"),n=a.data("target");if(n||(n=a.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var i=e.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:a[0]}),s=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),a.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var d=t(n);this.activate(a.closest("li"),e),this.activate(d,d.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},e.prototype.activate=function(a,n,i){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),d?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=n.find("> .active"),d=i&&t.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&d?s.one("bsTransitionEnd",r).emulateTransitionEnd(e.TRANSITION_DURATION):r(),s.removeClass("in")};var n=t.fn.tab;t.fn.tab=a,t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var i=function(e){e.preventDefault(),a.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);
+function(t){"use strict";function e(e,s){return this.each(function(){var i=t(this),n=i.data("bs.modal"),a=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);n||i.data("bs.modal",n=new o(this,a)),"string"==typeof e?n[e](s):a.show&&n.show(s)})}var o=function(e,o){this.options=o,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};o.VERSION="3.3.0",o.TRANSITION_DURATION=300,o.BACKDROP_TRANSITION_DURATION=150,o.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},o.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},o.prototype.show=function(e){var s=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&s.$element.hasClass("fade");s.$element.parent().length||s.$element.appendTo(s.$body),s.$element.show().scrollTop(0),i&&s.$element[0].offsetWidth,s.$element.addClass("in").attr("aria-hidden",!1),s.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});i?s.$element.find(".modal-dialog").one("bsTransitionEnd",function(){s.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(o.TRANSITION_DURATION):s.$element.trigger("focus").trigger(n)}))},o.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(o.TRANSITION_DURATION):this.hideModal())},o.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},o.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},o.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},o.prototype.backdrop=function(e){var s=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){s.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},o.prototype.checkScrollbar=function(){this.scrollbarWidth=this.measureScrollbar()},o.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},o.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},o.prototype.measureScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var s=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=o,t.fn.modal.noConflict=function(){return t.fn.modal=s,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(o){var s=t(this),i=s.attr("href"),n=t(s.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},n.data(),s.data());s.is("a")&&o.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){s.is(":visible")&&s.trigger("focus")})}),e.call(n,a,this)})}(jQuery);
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(){var e=a(this),o=r.settings;return isNaN(e.datetime)||(0==o.cutoff||Math.abs(n(e.datetime))<o.cutoff)&&t(this).text(i(e.datetime)),this}function a(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:r.datetime(e)});var a=t.trim(e.text());r.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(a.length>0)||r.isTime(e)&&e.attr("title")||e.attr("title",a)}return e.data("timeago")}function i(t){return r.inWords(n(t))}function n(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return i(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var r=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function a(a,n){var r=t.isFunction(a)?a(n,e):a,o=i.numbers&&i.numbers[n]||n;return r.replace(/%d/i,o)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=this.settings.strings,n=i.prefixAgo,r=i.suffixAgo;if(this.settings.allowFuture&&0>e&&(n=i.prefixFromNow,r=i.suffixFromNow),!this.settings.allowPast&&e>=0)return this.settings.strings.inPast;var o=Math.abs(e)/1e3,s=o/60,u=s/60,m=u/24,l=m/365,d=45>o&&a(i.seconds,Math.round(o))||90>o&&a(i.minute,1)||45>s&&a(i.minutes,Math.round(s))||90>s&&a(i.hour,1)||24>u&&a(i.hours,Math.round(u))||42>u&&a(i.day,1)||30>m&&a(i.days,Math.round(m))||45>m&&a(i.month,1)||365>m&&a(i.months,Math.round(m/30))||1.5>l&&a(i.year,1)||a(i.years,Math.round(l)),f=i.wordSeparator||"";return void 0===i.wordSeparator&&(f=" "),t.trim([n,d,r].join(f))},parse:function(e){var a=t.trim(e);return a=a.replace(/\.\d+/,""),a=a.replace(/-/,"/").replace(/-/,"/"),a=a.replace(/T/," ").replace(/Z/," UTC"),a=a.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),a=a.replace(/([\+\-]\d\d)$/," $100"),new Date(a)},datetime:function(e){var a=t(e).attr(r.isTime(e)?"datetime":"title");return r.parse(a)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var o={init:function(){var a=t.proxy(e,this);a();var i=r.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(a,i.refreshMillis))},update:function(a){var i=r.parse(a);t(this).data("timeago",{datetime:i}),r.settings.localeTitle&&t(this).attr("title",i.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:r.parse(t(this).attr(r.isTime(this)?"datetime":"title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var a=t?o[t]:o.init;if(!a)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){a.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")});
jQuery.timeago.settings.strings={prefixAgo:"před",prefixFromNow:null,suffixAgo:null,suffixFromNow:null,seconds:"méně než minutou",minute:"minutou",minutes:"%d minutami",hour:"hodinou",hours:"%d hodinami",day:"1 dnem",days:"%d dny",month:"1 měsícem",months:"%d měsíci",year:"1 rokem",years:"%d roky"};
var Nette=Nette||{};Nette.addEvent=function(e,t,n){var r=e["on"+t];e["on"+t]=function(){return"function"==typeof r&&r.apply(e,arguments)===!1?!1:n.apply(e,arguments)}},Nette.getValue=function(e){var t,n;if(e){if(e.nodeName){if(e.form.elements[e.name].nodeName){if("select"===e.nodeName.toLowerCase()){var r=e.selectedIndex,a=e.options,u=[];if("select-one"===e.type)return 0>r?null:a[r].value;for(t=0,n=a.length;n>t;t++)a[t].selected&&u.push(a[t].value);return u}return e.type in{checkbox:1,radio:1}?e.checked:"file"===e.type?e.files||e.value:e.value.replace("\r","").replace(/^\s+|\s+$/g,"")}return Nette.getValue(e.form.elements[e.name])}var o=e[0]&&!!e[0].name.match(/\[\]$/),i=[];for(t=0,n=e.length;n>t;t++)if(!(e[t].type in{checkbox:1,radio:1})||e[t].checked){if(!o)return e[t].value;i.push(e[t].value)}return o?i:null}return null},Nette.getEffectiveValue=function(e){var t=Nette.getValue(e);return e.getAttribute&&t===e.getAttribute("data-nette-empty-value")&&(t=""),t},Nette.validateControl=function(e,t,n){e.nodeName||(e=e[0]),t=t||Nette.parseJSON(e.getAttribute("data-nette-rules"));for(var r=0,a=t.length;a>r;r++){var u=t[r],o=u.op.match(/(~)?([^?]+)/);u.neg=o[1],u.op=o[2],u.condition=!!u.rules;var i=u.control?e.form.elements[u.control]:e;i.nodeName||(i=i[0]);var l=Nette.validateRule(i,u.op,u.arg);if(null!==l)if(u.neg&&(l=!l),u.condition&&l){if(!Nette.validateControl(e,u.rules,n))return!1}else if(!u.condition&&!l){if(Nette.isDisabled(i))continue;if(!n){var f=Nette.isArray(u.arg)?u.arg:[u.arg],s=u.msg.replace(/%(value|\d+)/g,function(t,n){return Nette.getValue("value"===n?i:e.form.elements[f[n].control])});Nette.addError(i,s)}return!1}}return!0},Nette.validateForm=function(e){var t=e.form||e,n=!1;if(t["nette-submittedBy"]&&null!==t["nette-submittedBy"].getAttribute("formnovalidate")){var r=Nette.parseJSON(t["nette-submittedBy"].getAttribute("data-nette-validation-scope"));if(!r.length)return!0;n=new RegExp("^("+r.join("-|")+"-)")}var a,u,o={};for(a=0;a<t.elements.length;a++){if(u=t.elements[a],"radio"===u.type){if(o[u.name])continue;o[u.name]=!0}if(!(n&&!u.name.replace(/]\[|\[|]|$/g,"-").match(n)||Nette.isDisabled(u)||Nette.validateControl(u)))return!1}return!0},Nette.isDisabled=function(e){if("radio"===e.type){e=e.form.elements[e.name].nodeName?[e]:e.form.elements[e.name];for(var t=0;t<e.length;t++)if(!e[t].disabled)return!1;return!0}return e.disabled},Nette.addError=function(e,t){e.focus&&e.focus(),t&&alert(t)},Nette.expandRuleArgument=function(e,t){return t&&t.control&&(t=Nette.getEffectiveValue(e.form.elements[t.control])),t},Nette.validateRule=function(e,t,n){var r=Nette.getEffectiveValue(e);":"===t.charAt(0)&&(t=t.substr(1)),t=t.replace("::","_"),t=t.replace(/\\/g,"");for(var a=Nette.isArray(n)?n.slice(0):[n],u=0,o=a.length;o>u;u++)a[u]=Nette.expandRuleArgument(e,a[u]);return Nette.validators[t]?Nette.validators[t](e,Nette.isArray(n)?a:a[0],r):null},Nette.validators={filled:function(e,t,n){return!(""===n||n===!1||null===n||Nette.isArray(n)&&!n.length||window.FileList&&n instanceof FileList&&!n.length)},blank:function(e,t,n){return!Nette.validators.filled(e,t,n)},valid:function(e){return Nette.validateControl(e,null,!0)},equal:function(e,t,n){if(void 0===t)return null;n=Nette.isArray(n)?n:[n],t=Nette.isArray(t)?t:[t];e:for(var r=0,a=n.length;a>r;r++){for(var u=0,o=t.length;o>u;u++)if(n[r]==t[u])continue e;return!1}return!0},notEqual:function(e,t,n){return void 0===t?null:!Nette.validators.equal(e,t,n)},minLength:function(e,t,n){return n.length>=t},maxLength:function(e,t,n){return n.length<=t},length:function(e,t,n){return t=Nette.isArray(t)?t:[t,t],(null===t[0]||n.length>=t[0])&&(null===t[1]||n.length<=t[1])},email:function(e,t,n){return/^("([ !\x23-\x5B\x5D-\x7E]*|\\[ -~])+"|[-a-z0-9!#$%&'*+\/=?^_`{|}~]+(\.[-a-z0-9!#$%&'*+\/=?^_`{|}~]+)*)@([0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)+[a-z\u00C0-\u02FF\u0370-\u1EFF][-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF]$/i.test(n)},url:function(e,t,n){return/^(https?:\/\/|(?=.*\.))([0-9a-z\u00C0-\u02FF\u0370-\u1EFF](([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)*[a-z\u00C0-\u02FF\u0370-\u1EFF][-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF]|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[[0-9a-f:]{3,39}\])(:\d{1,5})?(\/\S*)?$/i.test(n)},regexp:function(e,t,n){var r="string"==typeof t?t.match(/^\/(.*)\/([imu]*)$/):!1;if(r)try{return new RegExp(r[1],r[2].replace("u","")).test(n)}catch(a){}},pattern:function(e,t,n){try{return"string"==typeof t?new RegExp("^("+t+")$").test(n):null}catch(r){}},integer:function(e,t,n){return/^-?[0-9]+$/.test(n)},"float":function(e,t,n){return/^-?[0-9]*[.,]?[0-9]+$/.test(n)},min:function(e,t,n){return Nette.validators.range(e,[t,null],n)},max:function(e,t,n){return Nette.validators.range(e,[null,t],n)},range:function(e,t,n){return Nette.isArray(t)?(null===t[0]||parseFloat(n)>=t[0])&&(null===t[1]||parseFloat(n)<=t[1]):null},submitted:function(e){return e.form["nette-submittedBy"]===e},fileSize:function(e,t,n){if(window.FileList)for(var r=0;r<n.length;r++)if(n[r].size>t)return!1;return!0},image:function(e,t,n){if(window.FileList&&n instanceof FileList)for(var r=0;r<n.length;r++){var a=n[r].type;if(a&&"image/gif"!==a&&"image/png"!==a&&"image/jpeg"!==a)return!1}return!0}},Nette.toggleForm=function(e,t){var n;for(Nette.toggles={},n=0;n<e.elements.length;n++)e.elements[n].nodeName.toLowerCase()in{input:1,select:1,textarea:1,button:1}&&Nette.toggleControl(e.elements[n],null,null,!t);for(n in Nette.toggles)Nette.toggle(n,Nette.toggles[n],t)},Nette.toggleControl=function(e,t,n,r){t=t||Nette.parseJSON(e.getAttribute("data-nette-rules"));for(var a=!1,u=Object.prototype.hasOwnProperty,o=function(){Nette.toggleForm(e.form,e)},i=[],l=0,f=t.length;f>l;l++){var s=t[l],c=s.op.match(/(~)?([^?]+)/);if(s.neg=c[1],s.op=c[2],s.condition=!!s.rules,s.condition){var g=s.control?e.form.elements[s.control]:e,d=n;if(d!==!1){if(d=Nette.validateRule(g,s.op,s.arg),null===d)continue;s.neg&&(d=!d)}if(Nette.toggleControl(e,s.rules,d,r)||s.toggle){if(a=!0,r)for(var m=!document.addEventListener,N=g.nodeName?[g]:g,v=0;v<N.length;v++)Nette.inArray(i,N[v])||(Nette.addEvent(N[v],m&&g.type in{checkbox:1,radio:1}?"click":"change",o),i.push(N[v]));for(var p in s.toggle||[])u.call(s.toggle,p)&&(Nette.toggles[p]=Nette.toggles[p]||d^!s.toggle[p])}}}return a},Nette.parseJSON=function(s){return s=s||"[]","{op"===s.substr(0,3)?eval("["+s+"]"):window.JSON&&window.JSON.parse?JSON.parse(s):eval(s)},Nette.toggle=function(e,t){var n=document.getElementById(e);n&&(n.style.display=t?"":"none")},Nette.initForm=function(e){e.noValidate="novalidate",Nette.addEvent(e,"submit",function(t){return Nette.validateForm(e)?void 0:(t&&t.stopPropagation?t.stopPropagation():window.event&&(event.cancelBubble=!0),!1)}),Nette.addEvent(e,"click",function(t){t=t||event;var n=t.target||t.srcElement;e["nette-submittedBy"]=n.type in{submit:1,image:1}?n:null}),Nette.toggleForm(e)},Nette.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},Nette.inArray=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t)>-1;for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},Nette.addEvent(window,"load",function(){for(var e=0;e<document.forms.length;e++)Nette.initForm(document.forms[e])}),Nette.webalize=function(e){e=e.toLowerCase();var t,n,r="";for(t=0;t<e.length;t++)n=Nette.webalizeTable[e.charAt(t)],r+=n?n:e.charAt(t);return r.replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")},Nette.webalizeTable={"á":"a","č":"c","ď":"d","é":"e","ě":"e","í":"i","ň":"n","ó":"o","ř":"r","š":"s","ť":"t","ú":"u","ů":"u","ý":"y","ž":"z"};
!function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,s){return(i=n.call(null,s,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,s){return(i=n.call(null,s,t,e))?!1:void 0}),!!i):i},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,s;return function(){var r,o,u=this,a=arguments;return r=function(){i=null,n||(s=t.apply(u,a))},o=n&&!i,clearTimeout(i),i=setTimeout(r,e),o&&(s=t.apply(u,a)),s}},throttle:function(t,e){var n,i,s,r,o,u;return o=0,u=function(){o=new Date,s=null,r=t.apply(n,i)},function(){var a=new Date,c=e-(a-o);return n=this,i=arguments,0>=c?(clearTimeout(s),s=null,o=a,r=t.apply(n,i)):s||(s=setTimeout(u,c)),r}},noop:function(){}}}(),n=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),i=function(){"use strict";var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&e.mixin(t.input,{marginTop:"-1px"}),t}(),s=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i="typeahead:";return e.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(i+t,e)}}),n}(),r=function(){"use strict";function t(t,e,n,i){var s;if(!n)return this;for(e=e.split(a),n=i?u(n,i):n,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(a);e=t.shift();)delete this._callbacks[e];return this}function s(t){var e,n,i,s,o;if(!this._callbacks)return this;for(t=t.split(a),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)s=r(n.sync,this,[e].concat(i)),o=r(n.async,this,[e].concat(i)),s()&&c(o);return this}function r(t,e,n){function i(){for(var i,s=0,r=t.length;!i&&r>s;s+=1)i=t[s].apply(e,n)===!1;return!i}return i}function o(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function u(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var a=/\s+/,c=o();return{onSync:n,onAsync:e,off:i,trigger:s}}(),o=function(t){"use strict";function n(t,n,i){for(var s,r=[],o=0,u=t.length;u>o;o++)r.push(e.escapeRegExChars(t[o]));return s=i?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",n?new RegExp(s):new RegExp(s,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function r(e){var n,i,r;return(n=u.exec(e.data))&&(r=t.createElement(s.tagName),s.className&&(r.className=s.className),i=e.splitText(n.index),i.splitText(n[0].length),r.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(r,i)),!!n}function o(t,e){for(var n,i=3,s=0;s<t.childNodes.length;s++)n=t.childNodes[s],n.nodeType===i?s+=e(n)?1:0:o(n,e)}var u;s=e.mixin({},i,s),s.node&&s.pattern&&(s.pattern=e.isArray(s.pattern)?s.pattern:[s.pattern],u=n(s.pattern,s.caseSensitive,s.wordsOnly),o(s.node,r))}}(window.document),u=function(){"use strict";function n(n){var s,r,o,a,c=this;n=n||{},n.input||t.error("input is missing"),s=e.bind(this._onBlur,this),r=e.bind(this._onFocus,this),o=e.bind(this._onKeydown,this),a=e.bind(this._onInput,this),this.$hint=t(n.hint),this.$input=t(n.input).on("blur.tt",s).on("focus.tt",r).on("keydown.tt",o),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){u[t.which||t.keyCode]||e.defer(e.bind(c._onInput,c,t))}):this.$input.on("input.tt",a),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var u;return u={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=u[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,i,s;switch(t){case"tab":i=this.getHint(),s=this.getInputValue(),n=i&&i!==s&&!o(e);break;case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkInputValue:function(){var t,e,n;t=this.getInputValue(),e=s(t,this.query),n=e?this.query.length!==t.length:!1,this.query=t,e?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),a=function(){"use strict";function s(i){i=i||{},i.templates=i.templates||{},i.source||t.error("missing source"),i.name&&!c(i.name)&&t.error("invalid dataset name: "+i.name),this.query=null,this.highlight=!!i.highlight,this.name=i.name||e.getUniqueId(),this.source=i.source,this.displayFn=u(i.display||i.displayKey),this.templates=a(i.templates,this.displayFn),this.$el=t(n.dataset.replace("%CLASS%",this.name))}function u(t){function n(e){return e[t]}return t=t||"value",e.isFunction(t)?t:n}function a(t,n){function i(t){return"<p>"+n(t)+"</p>"}return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||i}}function c(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var h="ttDataset",d="ttValue",l="ttDatum";return s.extractDatasetName=function(e){return t(e).data(h)},s.extractValue=function(e){return t(e).data(d)},s.extractDatum=function(e){return t(e).data(l)},e.mixin(s.prototype,r,{_render:function(s,r){function u(){return f.templates.empty({query:s,isEmpty:!0})}function a(){function u(e){var s;return s=t(n.suggestion).append(f.templates.suggestion(e)).data(h,f.name).data(d,f.displayFn(e)).data(l,e),s.children().each(function(){t(this).css(i.suggestionChild)}),s}var a,c;return a=t(n.suggestions).css(i.suggestions),c=e.map(r,u),a.append.apply(a,c),f.highlight&&o({className:"tt-highlight",node:a[0],pattern:s}),a}function c(){return f.templates.header({query:s,isEmpty:!g})}function p(){return f.templates.footer({query:s,isEmpty:!g})}if(this.$el){var g,f=this;this.$el.empty(),g=r&&r.length,!g&&this.templates.empty?this.$el.html(u()).prepend(f.templates.header?c():null).append(f.templates.footer?p():null):g&&this.$el.html(a()).prepend(f.templates.header?c():null).append(f.templates.footer?p():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){function e(e){n.canceled||t!==n.query||n._render(t,e)}var n=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),s}(),c=function(){"use strict";function n(n){var i,r,o,u=this;n=n||{},n.menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=e.map(n.datasets,s),i=e.bind(this._onSuggestionClick,this),r=e.bind(this._onSuggestionMouseEnter,this),o=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(n.menu).on("click.tt",".tt-suggestion",i).on("mouseenter.tt",".tt-suggestion",r).on("mouseleave.tt",".tt-suggestion",o),e.each(this.datasets,function(t){u.$menu.append(t.getRoot()),t.onSync("rendered",u._onRendered,u)})}function s(t){return new a(t)}return e.mixin(n.prototype,r,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function t(t){return t.isEmpty()}this.isEmpty=e.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,n,i,s;if(this.isOpen){if(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),i=e.index(n)+t,i=(i+1)%(e.length+1)-1,-1===i)return void this.trigger("cursorRemoved");-1>i&&(i=e.length-1),this._setCursor(s=e.eq(i)),this._ensureVisible(s)}},_ensureVisible:function(t){var e,n,i,s;e=t.position().top,n=e+t.outerHeight(!0),i=this.$menu.scrollTop(),s=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>e?this.$menu.scrollTop(i+e):n>s&&this.$menu.scrollTop(i+(n-s))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?i.ltr:i.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:a.extractDatum(t),value:a.extractValue(t),datasetName:a.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){function n(e){e.update(t)}e.each(this.datasets,n)},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,t)}}),n}(),h=function(){"use strict";function r(n){var i,r,a;n=n||{},n.input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.$node=o(n.input,n.withHint),i=this.$node.find(".tt-dropdown-menu"),r=this.$node.find(".tt-input"),a=this.$node.find(".tt-hint"),r.on("blur.tt",function(t){var n,s,o;n=document.activeElement,s=i.is(n),o=i.has(n).length>0,e.isMsie()&&(s||o)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){r.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=n.eventBus||new s({el:r}),this.dropdown=new c({menu:i,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new u({input:r,hint:a}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function o(e,s){var r,o,u,c;r=t(e),o=t(n.wrapper).css(i.wrapper),u=t(n.dropdown).css(i.dropdown),c=r.clone().css(i.hint).css(a(r)),c.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),r.data(d,{dir:r.attr("dir"),autocomplete:r.attr("autocomplete"),spellcheck:r.attr("spellcheck"),style:r.attr("style")}),r.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(s?i.input:i.inputWithNoHint);try{!r.attr("dir")&&r.attr("dir","auto")}catch(h){}return r.wrap(o).parent().prepend(s?c:null).append(u)}function a(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function h(t){var n=t.find(".tt-input");e.each(n.data(d),function(t,i){e.isUndefined(t)?n.removeAttr(i):n.attr(i,t)}),n.detach().removeData(d).removeClass("tt-input").insertAfter(t),t.remove()}var d="ttAttrs";return e.mixin(r.prototype,{_onSuggestionClicked:function(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(t,e){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),e.preventDefault()):this.autoselect&&i&&(this._select(i),e.preventDefault())},_onTabKeyed:function(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,n,i,s,r,o;t=this.dropdown.getDatumForTopSuggestion(),t&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),i=u.normalizeQuery(n),s=e.escapeRegExChars(i),r=new RegExp("^(?:"+s+")(.+$)","i"),o=r.exec(t.value),o?this.input.setHint(n+o[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,n,i,s;e=this.input.getHint(),n=this.input.getQuery(),i=t||this.input.isCursorAtEnd(),e&&n!==e&&i&&(s=this.dropdown.getDatumForTopSuggestion(),s&&this.input.setInputValue(s.value),this.eventBus.trigger("autocompleted",s.raw,s.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),e.defer(e.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=e.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),h(this.$node),this.$node=null}}),r}();!function(){"use strict";var n,i,r;n=t.fn.typeahead,i="ttTypeahead",r={initialize:function(n,r){function o(){var o,u,a=t(this);e.each(r,function(t){t.highlight=!!n.highlight}),u=new h({input:a,eventBus:o=new s({el:a}),withHint:e.isUndefined(n.hint)?!0:!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:r}),a.data(i,u)}return r=e.isArray(r)?r:[].slice.call(arguments,1),n=n||{},this.each(o)},open:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.open()}return this.each(e)},close:function(){function e(){var e,n=t(this);(e=n.data(i))&&e.close()}return this.each(e)},val:function(e){function n(){var n,s=t(this);(n=s.data(i))&&n.setVal(e)}function s(t){var e,n;return(e=t.data(i))&&(n=e.getVal()),n}return arguments.length?this.each(n):s(this.first())},destroy:function(){function e(){var e,n=t(this);(e=n.data(i))&&(e.destroy(),n.removeData(i))}return this.each(e)}},t.fn.typeahead=function(e){var n;return r[e]&&"initialize"!==e?(n=this.filter(function(){return!!t(this).data(i)}),r[e].apply(n,[].slice.call(arguments,1))):r.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this}}()}(window.jQuery);
var App={};App.error=function(r){console.error("Error:",r)},App.getTime=function(){var r=new Date;return r.getTime()},App.getTimer=function(){var r=App.getTime();return function(){return App.getTime()-r}},App.callAll=function(r,e){r.forEach(function(r){r.apply(e)})};
App.filters={duration:function(r){var o=Math.floor(r/60),t=Math.floor(r-60*o);return o+":"+(10>t?"0"+t:t)}};
App.video={},App.video.tickerDelta=100,App.video.onInit=[],App.video.onPlay=[],App.video.onPause=[],App.video.onTick=[],App.video.onSeek=[],App.video.onStop=[],App.video.init=function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var p=document.getElementsByTagName("script")[0];p.parentNode.insertBefore(e,p),window.onYouTubeIframeAPIReady=function(){App.video.player=new YT.Player("youtube-video",{events:{onReady:App.video.onPlayerReady,onStateChange:App.video.onPlayerStateChange}})}},App.video.onPlayerReady=function(){App.callAll(App.video.onInit),App.video.duration=App.video.player.getDuration()},App.video.onPlayerStateChange=function(e){clearInterval(App.video.ticker);var p=e.data;switch(p){case 1:App.video.ticker=setInterval(function(){App.callAll(App.video.onTick)},App.video.tickerDelta),App.callAll(App.video.onPlay);break;case 2:App.callAll(App.video.onPause);break;case 0:App.callAll(App.video.onStop)}};
App.debug=window.localStorage?window.localStorage.getItem("debug"):!1,App.debug&&(App.video.onInit.push(function(){console.debug("init")}),App.video.onPlay.push(function(){console.debug("play")}),App.video.onPause.push(function(){console.debug("pause")}),App.video.onTick.push(function(){console.debug("tick")}),App.video.onSeek.push(function(){console.debug("seek")}),App.video.onStop.push(function(){console.debug("stop")}));
!function(){var n={};n.fetch=function(n,c){$.ajax({cache:!0,success:function(n){c(n)},url:n})},n.timeToSeconds=function(n,c,e){return 3600*n+60*c+parseFloat(e.replace(",","."))},n.parse=function(c){var e=c.split(/(^|\n\n)\d+\n/),t=/^(\d+):(\d+):(\d+[,.]\d+).*?(\d+):(\d+):(\d+[,.]\d+)\n(.*)/,o=[];return e.forEach(function(c){var e=c.match(t);e&&o.push([n.timeToSeconds(e[1],e[2],e[3]),n.timeToSeconds(e[4],e[5],e[6]),e[7]])}),o},window.SrtParser=n}();
function transliterate(e){e=String(e);var a=" ",i={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ű":"u","ý":"y","þ":"th","ÿ":"y","©":"(c)","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"H","Ώ":"W","Ϊ":"I","Ϋ":"Y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"h","ώ":"w","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Ş":"S","İ":"I","Ç":"C","Ü":"U","Ö":"O","Ğ":"G","ş":"s","ı":"i","ç":"c","ü":"u","ö":"o","ğ":"g","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ó":"o","Ś":"S","Ź":"Z","Ż":"Z","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Š":"S","Ū":"u","Ž":"Z","ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z"};for(var o in i)e=e.replace(RegExp(o,"g"),i[o]);var g="undefined"==typeof XRegExp?RegExp("[^a-z0-9]+","ig"):XRegExp("[^\\p{L}\\p{N}]+","ig");return e=e.replace(g,a),e=e.replace(RegExp("["+a+"]{2,}","g"),a),e=e.replace(RegExp("(^"+a+"|"+a+"$)","g"),"")}
$(function(){var i=$("[data-exercise]");if(i.length){App.onInactive.add(function(){i.find("[name=inactivity]").val(!0)});var n=App.getTimer("exercise");i.on("submit",function(){$(this).find("[name=time]").val(n())});var t=i.find("[data-hint]").hide().toArray();$("[data-show-hint]").click(function(){i.find("[name=hint]").val(!0),$(t.shift()).show(),t.length||$(this).hide()})}});
$(function(){var e=$(".dropdown-big");$(".dropdown-big .dropdown-toggle").on("click",function(){return console.log("open"),e.toggleClass("open"),e.parents("header").toggleClass("hover"),!1}),$("body").children().not("header").on("click",function(){e.removeClass("open"),e.parents("header").removeClass("hover")}),$(".ul-tab a[data-toggle]").click(function(e){return e.preventDefault(),$(this).tab("show"),!1}),$(".search-wrapper .btn-search").on("click",function(){$(this).parents("header").addClass("hover");var e=$(this).parents(".search-wrapper").first(),n=e.find(".search-input"),r=e.find(".search-button"),o=n.hasClass("hidden");return n.removeClass("hidden"),r.removeClass("hidden"),$input=n.find("input:last"),$input.focus(),o?!1:void 0}),$(".search-wrapper .form-control").on("keyup focus",function(){$(this).parents("header").addClass("hover")})});
App._idleSince=null,App._resetIdleTime=function(){App._idleSince=App.getTime()},App._checkIdle=function(){if(null!==App._idleSince){var e=App.getTime()-App._idleSince;e>6e4&&(App.onInactive.fire(),App._idleSince=null)}},App._resetIdleTime(),App.onInactive=$.Callbacks(),$(document).mousemove(App._resetIdleTime),$(document).keypress(App._resetIdleTime),setInterval(App._checkIdle,250);
$(function(){$("time").timeago()});
window.location.hash&&"#_=_"==window.location.hash&&(window.location.hash=""),window.history.replaceState&&(l=window.location.toString(),uri=l.indexOf("_fid="),-1!=uri&&(uri=l.substr(0,uri)+l.substr(uri+10),("?"==uri.substr(uri.length-1)||"&"==uri.substr(uri.length-1))&&(uri=uri.substr(0,uri.length-1)),window.history.replaceState("",document.title,uri)));
!function(){function e(){t.fadeOut(100),r.fadeOut(500),o.fadeOut(500),u.hide().removeClass("hidden"),App.video.player.playVideo(),setTimeout(function(){i.addClass("video-playmode"),l.fadeIn(700),u.fadeIn(700),t.removeClass("dont-center")},700)}var n=$(".course-video");if(n.length){var o=n.find(".left:first"),i=n.find(".right .right-inner"),t=n.find(".video-play"),r=n.find(".video-preview"),u=n.find(".video-real"),l=n.find(".course-header-footer .left"),d=n.find(".video-controls"),c=n.find(".course-progress-container"),a=c.find(".course-progress"),s=c.find(".progress-inner"),p=n.find(".video-click-catcher"),f=n.find(".video-subtitles .subtitles-content"),v=n.find("[data-subtitles-url]").data("subtitles-url"),m=!1;v&&SrtParser.fetch(v,function(e){m=SrtParser.parse(e)});var g=function(e){e||(e=App.video.player.getCurrentTime());var n=e/App.video.duration;s.css("width",100*n+"%"),c.find(".label-left").text(App.filters.duration(e))},h=function(e){var n=e.clientX||e.pageX,o=$(window).width(),i=App.video.duration*n/o;return App.video.player.seekTo(i,!0),App.callAll(App.video.onSeek),g(i),!1},A=function(){1!=App.video.player.getPlayerState()?(E?App.video.player.playVideo():e(),E=!0):App.video.player.pauseVideo()},y=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},C=function(){if(y()){var e=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen;e.call(document),n.removeClass("fullscreen")}else{var o=n[0],i=o.requestFullScreen||o.webkitRequestFullScreen||o.mozRequestFullScreen;i.call(o),n.addClass("fullscreen")}return!1};$(document).on("fullscreenchange webkitfullscreenchange mozfullscreenchange msfullscreenchange",function(){y()?a.addClass("active-fs"):(n.removeClass("fullscreen"),a.removeClass("active-fs"))});var k;n.on("mousemove",function(){clearTimeout(k);var e=y();e?d.addClass("active"):a.addClass("active"),k=setTimeout(function(){a.removeClass("active"),d.removeClass("active")},e?3e3:1800)});var w=function(){var e=App.video.player.getCurrentTime();if(z){if(m[z][0]<=e&&m[z][1]>=e)return void console.debug("optimization (do not rerender)");if(m[z+1][0]<=e&&m[z+1][1]>=e)return z+=1,console.debug("optimization (rerender)"),void f.text(m[z][2])}console.debug("searching",e),m.every(function(n,o){return n[0]<=e&&n[1]>=e?(console.debug("costly sub search"),f.text(n[2]),z=o,!1):!0})};$("body").on("keydown",function(e){return"input"===e.target.tagName.toLowerCase()?!0:32==e.keyCode?(A(),!1):void 0});var b,T=0,S=200,F=600,x=!1;p.on("click",function(){clearTimeout(b);var e=window.performance?window.performance.now():Date.getTime();return b=setTimeout(function(){A(),x=App.video.player.getCurrentTime()},S),setTimeout(function(){x=!1},F),F>e-T&&(clearTimeout(b),x&&(A(),App.video.player.seekTo(x),x=!1),C()),T=e,!1}),o.on("click",function(){return!1}),App.video.onTick.push(g);var z=!1;App.video.onTick.push(w),App.video.onPlay.push(function(){App.video.player.unloadModule("captions"),App.video.player.unloadModule("cc")}),App.video.onPlay.push(function(){l.find(".toggle .icon").addClass("icon-pause").removeClass("icon-play"),t.fadeOut(180)}),App.video.onPause.push(function(){l.find(".toggle .icon").addClass("icon-play").removeClass("icon-pause"),t.fadeIn(180)}),App.video.onSeek.push(function(){o.is(":visible")&&e()}),App.video.onSeek.push(w);var E=!1;App.video.onInit.push(function(){l.find(".toggle").on("click",function(){return A(),!1}),l.find(".video-fullscreen").on("click",C),c.on("mousedown",function(e){return 1!=e.which?!1:(h(e),$(document).on("mousemove",h),void $(document).on("mouseup",function(){$(document).off("mousemove").off("mouseup")}))})}),App.video.init()}}();
App.elasticSearch={host:"http://localhost:9200"},App.autocomplete=function(t,e){$.ajax({type:"POST",url:App.elasticSearch.host+"/khanovaskola/_suggest",dataType:"json",data:JSON.stringify({content:{text:t,completion:{field:"suggest"}}}),success:function(t){var a=[];$.each(t.content[0].options,function(t,e){a.push({id:e.payload.id,value:e.text})}),e(a)}})},$(function(){$("#frm-search-form-query").typeahead({hint:!0,highlight:!0,minLength:1},{name:"states",source:function(t,e){App.autocomplete(t,function(t){e(t)})}})});
!function(){if($form=$("#frm-blueprintEditor-form"),$form.length){var n={};n.saveHook=function(n,a,r){var e=function(){for(var e in r)n[e]=r[e].val();a.val(JSON.stringify(n))};for(var t in r)r[t].on("change",e);e()},n.label=function(n){switch(n){case"integer":return"celé číslo";case"list":return"náhodné slovo";case"plural":return"plurál"}},n.render=function(a,r){var e=$("<div></div>").text(this.label(a.type));r.hide(),r.before(e);var t="render"+a.type.charAt(0).toUpperCase()+a.type.slice(1);n[t](a,e,r)},n.renderInteger=function(a,r,e){var t=$('<input type="number" class="form-control">').val(a.min),i=$('<input type="number" class="form-control">').val(a.max);r.append(t).append(i),n.saveHook(a,e,{min:t,max:i})},n.renderPlural=function(a,r,e){var t={},i=["count","one","few","many"];for(var o in i){var l=i[o];t[l]=$('<input class="form-control">').val(a[l]),r.append(t[l])}n.saveHook(a,e,t)},n.renderList=function(n,a,r){var e={};for(var t in n.list){e[t]=$('<input class="form-control">').val(n.list[t]),a.append(e[t]);var i=function(){n.list=[];for(var a in e)n.list.push(e[a].val());r.val(JSON.stringify(n))};e[t].on("change",i),i()}r.val(JSON.stringify(n))},$form.find("[data-definition]").each(function(a,r){var e=JSON.parse($(r).val());n.render(e,$(r))});var a=$form.find("[data-definitions]");$form.find("[data-add-type]").on("click",function(){var r=$(this).data("add-type"),e=a.find("[data-definition]").length,t=$('<input name="vars['+e+'][name]" class="form-control">'),i=$('<input name="vars['+e+'][definition]" data-definition class="form-control">');a.append(t).append(i);var o={type:r};"integer"===r?(o.min=0,o.max=100):"list"===r?o.list=[]:"plural"===r&&(o={type:r,count:"<eval></eval>",one:"",few:"",many:""}),n.render(o,i)});var r,e,t;a.find("[data-var-remove]").click(function(n){t&&t.remove();var i=$(n.target),o=a.find('[data-var-id="'+i.data("var-remove")+'"]');e=$("<div></div>"),o.after(e),t=$('<a class="btn btn-link"></a>').text(i.data("label-undo")).on("click",function(){e.after(r),e.remove(),t.remove()}),o.after(t),o.detach(),r=o})}}();
$(function(){if($form=$("#frm-linkStudentsForm-form"),$form.length){var n=$form.find("input[type=email]").last().clone();$form.countEmpty=function(){var n=0;return $(this).find("input[type=email]").each(function(t,o){$(o).val().trim()||n++}),n},$form.on("change keyup paste","input[type=email]",function(){if(console.log($form.countEmpty()),$form.countEmpty()<1){var t=n.clone(),o=$form.find("input[type=email]").length;t.attr("name","emails["+o+"][email]"),$form.find(".form-group").append(t)}})}});
$(function(){$form=$("#frm-loginForm-form"),$form.length&&$form.find('input[name="email"]').on("change paste keyup",function(){var e=$("[data-password-reset]"),a=e.data("password-reset")+"?email="+encodeURIComponent($(this).val());e.attr("href",a)})});
$(function(){$form=$("#frm-registrationForm-form"),$form.length&&($form.find('input[name="name"]').on("change paste keyup",function(){/ov(á|a)\s*$/.test($(this).val())&&$("#frm-registrationForm-form-gender-female").prop("checked",!0)}),$form.find('input[name="password"]').on("change paste keyup",function(){var n=[],a=$form.find('input[name="email"]').val();n.push(a),n.push.apply(n,a.split("@"));var r=$form.find('input[name="name"]').val();n.push(r),n.push.apply(n,r.split(" "));var p=transliterate(r);n.push(p),n.push.apply(n,p.split(" "));var e=zxcvbn($(this).val(),n);$(this).parents(".form-group").toggleClass("has-warning",e.entropy<30)}))});
//# sourceMappingURL=app.min.js.map